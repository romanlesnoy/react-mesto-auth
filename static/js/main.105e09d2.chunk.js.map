{"version":3,"sources":["utils/api.js","images/logo.svg","components/Header.js","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/InfoToolTip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","config","this","_headers","headers","_url","url","token","authorization","res","ok","json","Promise","reject","fetch","then","_response","name","about","method","body","JSON","stringify","link","cardId","isLiked","avatar","Header","userEmail","onSignOut","className","src","logo","alt","path","to","exact","onClick","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","likes","isOwn","owner","_id","cardDeleteButtonClassName","some","i","cardLikeButtonClassName","type","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","title","submitButtonText","isOpen","onClose","children","onSubmit","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","event","preventDefault","id","value","placeholder","minLength","maxLength","required","autoComplete","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","noValidate","ref","AddPlacePopup","setLink","e","Register","onRegister","email","setEmail","password","setPassword","handleSubmit","evt","Login","onLogin","ProtectedRoute","Component","component","props","loggedIn","InfoToolTip","isSuccses","BASE_URL","response","status","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoToolTipPopupOpen","setIsInfoToolTipPopupOpen","selectedCard","setSelectedCard","setLoggedIn","regSuccsesStatusInfo","setRegSuccsesStatusInfo","setUserEmail","setCurrentUser","setCards","history","useHistory","localStorage","getItem","setHeadersToken","all","getCards","getUserInformation","cardsData","userData","catch","err","console","log","tokenCheck","jwt","Accept","Authorization","push","closeAllPopups","Provider","removeItem","register","authorize","setItem","changeLikeCardStatus","newCard","newCards","c","removeCard","filter","item","editUserInfo","data","editUserAvatar","placeData","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.105e09d2.chunk.js","sourcesContent":["export class Api {\n    constructor(config) {\n        this._headers = config.headers;\n        this._url = config.url;\n    }\n\n    setHeadersToken (token) {\n        this._headers = {\n            ...this._headers,\n            authorization: `Bearer ${token}`,\n        }\n    }\n\n    _response(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(\"Произошла ошибка\");\n    }\n\n    getUserInformation() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers,\n        }).then(this._response);\n    }\n\n    getCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: this._headers,\n        }).then(this._response);\n    }\n\n    editUserInfo({ name, about }) {\n        return fetch(`${this._url}/users/me`, {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name,\n                about,\n            }),\n        }).then(this._response);\n    }\n\n    addNewCard({ name, link }) {\n        return fetch(`${this._url}/cards`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({\n                name,\n                link,\n            }),\n        }).then(this._response);\n    }\n\n    removeCard(cardId) {\n        return fetch(`${this._url}/cards/${cardId}`, {\n            method: \"DELETE\",\n            headers: this._headers,\n        }).then(this._response);\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        if (isLiked) {\n            return fetch(`${this._url}/cards/${cardId}/likes`, {\n                method: \"PUT\",\n                headers: this._headers,\n            }).then(this._response);\n        } else {\n            return fetch(`${this._url}/cards/${cardId}/likes`, {\n                method: \"DELETE\",\n                headers: this._headers,\n            }).then(this._response);\n        }\n    }\n\n    editUserAvatar(avatar) {\n        return fetch(`${this._url}/users/me/avatar `, {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar,\n            }),\n        }).then(this._response);\n    }\n}\n\nconst api = new Api({\n    url: \"http://lesnoy-mesto.students.nomoredomains.icu\",\n    headers: {\n        \"Content-Type\": \"application/json\",\n    },\n});\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport logo from \"../images/logo.svg\";\n\nfunction Header({userEmail, onSignOut}) {\n    return (\n        <header className=\"header\">\n            <img\n                className=\"header__logo\"\n                src={logo}\n                alt=\"Логотип проект Место\"\n            />\n            <Route path=\"/sign-up\">\n                <Link to=\"sign-in\" className=\"header__login-link\">\n                    Войти\n                </Link>\n            </Route>\n            <Route path=\"/sign-in\">\n                <Link to=\"sign-up\" className=\"header__login-link\">\n                    Регистрация\n                </Link>\n            </Route>\n            <Route exact path=\"/\">\n                <p className=\"header__email\">\n                    {userEmail} &nbsp;\n                    <Link to=\"sign-in\" className=\"header__login-link\" onClick={onSignOut}>\n                        Выйти\n                    </Link>\n                </p>\n            </Route>\n        </header>\n    );\n}\n\nexport default Header;\n","import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n    const currentUser = useContext(CurrentUserContext);\n    const { link, likes, name } = card;\n\n    const isOwn = card.owner === currentUser._id;\n    const cardDeleteButtonClassName = `elements__remove-btn ${\n        !isOwn ? \"elements__remove-btn_hidden\" : \" \"\n    }`;\n\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n    const cardLikeButtonClassName = `elements__like-btn ${\n        isLiked ? \"elements__like-btn_active\" : \" \"\n    }`;\n\n    function handleClick() {\n        onCardClick({ name, link });\n    }\n\n    function handleLikeClick() {\n        onCardLike(card);\n    }\n\n    function handleDeleteClick() {\n        onCardDelete(card);\n    }\n\n    return (\n        <article className=\"elements__figure\">\n            <img\n                className=\"elements__image\"\n                src={link}\n                alt={name}\n                onClick={handleClick}\n            />\n            <button\n                className={cardDeleteButtonClassName}\n                type=\"button\"\n                aria-label=\"Delete\"\n                onClick={handleDeleteClick}\n            ></button>\n            <div className=\"elements__caption-container\">\n                <h2 className=\"elements__caption\">{name}</h2>\n                <div className=\"elements__likes-container\">\n                    <button\n                        className={cardLikeButtonClassName}\n                        type=\"button\"\n                        aria-label=\"Like\"\n                        onClick={handleLikeClick}\n                    ></button>\n                    <p className=\"elements__like-counter\">{likes.length}</p>\n                </div>\n            </div>\n        </article>\n    );\n}\n\nexport default Card;\n","import React, { useContext } from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards }) {\n    const currentUser = useContext(CurrentUserContext);\n    return (\n            <main className='main'>\n                <section className=\"profile\">\n                    <div className=\"profile__container\">\n                        <div className=\"profile__avatar-container\">\n                            <img\n                                className=\"profile__avatar\"\n                                src={currentUser.avatar}\n                                alt=\"Аватар пользователя\"\n                            />\n                            <button\n                                className=\"profile__change-avatar-btn\"\n                                aria-label=\"Edit\"\n                                onClick={onEditAvatar}\n                            ></button>\n                        </div>\n                        <div className=\"profile__info\">\n                            <h1 className=\"profile__name\">\n                                {currentUser.name}\n                            </h1>\n                            <button\n                                className=\"profile__edit-btn\"\n                                type=\"button\"\n                                aria-label=\"Edit\"\n                                onClick={onEditProfile}\n                            ></button>\n                            <p className=\"profile__about-me\">\n                                {currentUser.about}\n                            </p>\n                        </div>\n                    </div>\n                    <button\n                        className=\"profile__add-btn\"\n                        type=\"button\"\n                        aria-label=\"Add Card\"\n                        onClick={onAddPlace}\n                    ></button>\n                </section>\n\n                <section className=\"elements\">\n                    {cards.map(card => (\n                        <Card \n                            key={card._id} \n                            card={card} \n                            onCardClick={onCardClick} \n                            onCardLike={onCardLike}\n                            onCardDelete={onCardDelete}\n                        />\n                    ))}\n                </section>\n            </main>\n    );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm({\n    name,\n    title,\n    submitButtonText,\n    isOpen,\n    onClose,\n    children,\n    onSubmit\n}) {\n    return (\n        <section\n            className={`popup popup__${name} ${isOpen ? \"popup_opened\" : \" \"}`}\n        >\n            <form className=\"popup__form\" name={`${name}`} onSubmit={onSubmit}>\n                <button\n                    className=\"popup__close-btn\"\n                    type=\"button\"\n                    onClick={onClose}\n                ></button>\n                <h3 className=\"popup__title\">{title}</h3>\n                {children}\n                <button className=\"popup__save-btn\" type=\"submit\">\n                    {submitButtonText}\n                </button>\n            </form>\n        </section>\n    );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction ImagePopup({ card, onClose }) {\n    return (\n        <section\n            className={`popup popup__image-preview ${\n                card ? \"popup_opened\" : \" \"\n            }`}\n        >\n            <figure className=\"popup__image-container\">\n                <button\n                    className=\"popup__close-btn\"\n                    type=\"button\"\n                    aria-label=\"Close\"\n                    onClick={onClose}\n                ></button>\n                <img className=\"popup__image\" src={card.link} alt={card.name} />\n                <figcaption className=\"popup__image-caption\">\n                    {card.name}\n                </figcaption>\n            </figure>\n        </section>\n    );\n}\n\nexport default ImagePopup;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n    const currentUser = useContext(CurrentUserContext);\n\n    const [name, setName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n    useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleNameChange(event) {\n        setName(event.target.value);\n    }\n\n    function handleDescriptionChange(event) {\n        setDescription(event.target.value);\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        \n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"profile-edit\"\n            title=\"Редактировать профиль\"\n            submitButtonText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                id=\"user-name\"\n                className=\"popup__input-field popup__input-name\"\n                type=\"text\"\n                value={name || \" \"}\n                name=\"name\"\n                placeholder=\"Имя\"\n                minLength=\"2\"\n                maxLength=\"40\"\n                required\n                autoComplete=\"off\"\n                onChange={handleNameChange}\n            />\n            <span id=\"user-name-error\" className=\"popup__input-error\"></span>\n            <input\n                id=\"about\"\n                className=\"popup__input-field popup__input-about-me\"\n                type=\"text\"\n                value={description || \" \"}\n                name=\"about\"\n                placeholder=\"О себе\"\n                minLength=\"2\"\n                maxLength=\"200\"\n                required\n                autoComplete=\"off\"\n                onChange={handleDescriptionChange}\n            />\n            <span id=\"about-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n    const avatarRef = useRef();\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n        avatarRef.current.value = \"\";\n    }\n\n    return (\n        <PopupWithForm\n            name=\"avatar-update\"\n            title=\"Обновить аватар\"\n            submitButtonText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            noValidate\n        >\n            <input\n                id=\"avatar-link\"\n                className=\"popup__input-field popup__input-avatar-link\"\n                type=\"url\"\n                name=\"avatarlink\"\n                placeholder=\"Ссылка на картинку\"\n                required\n                autoComplete=\"off\"\n                ref={avatarRef}\n            />\n            <span id=\"avatar-link-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n    const [name, setName] = useState(\"\");\n    const [link, setLink] = useState(\"\");\n\n    useEffect(() => {\n        setName(\"\");\n        setLink(\"\");\n    }, [onClose]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value);\n    }\n\n    function handleAddPlaceSubmit(event) {\n        event.preventDefault();\n        onAddPlace({\n            name, link\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"add-card\"\n            title=\"Новое место\"\n            submitButtonText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleAddPlaceSubmit}\n        >\n            <input\n                id=\"card-name\"\n                className=\"popup__input-field popup__input-card-name\"\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Название\"\n                minLength=\"2\"\n                maxLength=\"30\"\n                required\n                autoComplete=\"off\"\n                value={name || \"\"}\n                onChange={handleNameChange}\n            />\n            <span id=\"card-name-error\" className=\"popup__input-error\"></span>\n            <input\n                id=\"image-link\"\n                className=\"popup__input-field popup__input-image-link\"\n                type=\"url\"\n                name=\"link\"\n                placeholder=\"Ссылка на картинку\"\n                required\n                autoComplete=\"off\"\n                value={link || \"\"}\n                onChange={handleLinkChange}\n            />\n            <span id=\"image-link-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Register = ({onRegister}) => {\n    const [email, setEmail] = useState(' ');\n    const [password, setPassword] = useState(' ');\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        \n        onRegister(email, password);\n    }\n    \n    return (\n        <section className=\"register\">\n            <form onSubmit={handleSubmit} className=\"form\">\n                <h1 className=\"form__title\">Регистрация</h1>\n                <input\n                    id=\"email\"\n                    className=\"form__input\"\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    required\n                    value={email}\n                    onChange={(evt) => setEmail(evt.target.value)}\n                />\n                <input\n                    id=\"password\"\n                    className=\"form__input\"\n                    name=\"password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    required\n                    value={password}\n                    onChange={(evt) => setPassword(evt.target.value)}\n                />\n                <button\n                    type=\"submit\"\n                    onSubmit={handleSubmit}\n                    className=\"form__submit\"\n                >\n                    Зарегистрироваться\n                </button>\n            </form>\n            <div className=\"register__signin\">\n                <p>\n                    Уже зарегистрированы? &nbsp;\n                    <Link to=\"/sign-in\" className=\"register__login-link\">\n                        Войти\n                    </Link>\n                </p>\n            </div>\n        </section>\n    );\n};\n\nexport default Register;\n","\nimport React, { useState } from \"react\";\n\nconst Login = ({ onLogin }) => {\n    const [email, setEmail] = useState(\" \");\n    const [password, setPassword] = useState(\" \");\n\n    const handleEmailInput = (event) => {\n        setEmail(event.target.value);\n    }\n\n    const handlePasswordInput = (event) => {\n        setPassword(event.target.value);\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        onLogin(email, password);\n    }\n\n    return (\n        <section className=\"login\">\n            <form onSubmit={handleSubmit} className=\"form\">\n                <h1 className=\"form__title\">Вход</h1>\n                <input\n                    id=\"email\"\n                    className=\"form__input\"\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    required\n                    value={email}\n                    onChange={handleEmailInput}\n                />\n                <input\n                    id=\"password\"\n                    className=\"form__input\"\n                    name=\"password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    required\n                    value={password}\n                    minLength=\"8\"\n                    onChange={handlePasswordInput}\n                />\n                <button\n                    type=\"submit\"\n                    onSubmit={handleSubmit}\n                    className=\"form__submit\"\n                >\n                    Войти\n                </button>\n            </form>\n        </section>\n    );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n        <Route>\n            {() =>\n                props.loggedIn ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect to=\"./login\" />\n                )\n            }\n        </Route>\n    );\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\n\nfunction InfoToolTip({ isOpen, onClose, isSuccses }) {\n    return (\n        <section\n            className={`popup popup__infotooltip ${\n                isOpen ? \"popup_opened\" : \" \"\n            }`}\n        >\n            <div className=\"popup__container\">\n                <button\n                    className=\"popup__close-btn\"\n                    type=\"button\"\n                    onClick={onClose}\n                ></button>\n                <div\n                    className={`popup__info-img ${isSuccses ? \" \" : \"popup__info-img_fail\"}`}\n                />\n                <p className=\"popup__text\">{isSuccses ? \"Вы успешно зарегистрировались!\" : \"Что то пошло не так! Попробуйте ещё раз\"}</p>\n            </div>\n        </section>\n    );\n}\n\nexport default InfoToolTip;\n","export const BASE_URL = \"http://lesnoy-mesto.students.nomoredomains.icu\";\n\nconst response = (res) => {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(`Error ${res.status}`);\n}\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n            \"password\": password,\n            \"email\": email,\n        }),\n    }).then(response);\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ \"password\": password, \"email\": email }),\n    }).then(response);\n};\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n        },\n    }).then(response);\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport api from \"../utils/api\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport { register, authorize, getContent } from \"../utils/auth\";\n\nfunction App() {\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState(false);\n\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [regSuccsesStatusInfo, setRegSuccsesStatusInfo] = useState(false);\n    const [userEmail, setUserEmail] = useState(\" \");\n\n    const [currentUser, setCurrentUser] = useState({});\n    const [cards, setCards] = useState([]);\n\n    const history = useHistory();\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"jwt\");\n        if(!token) {\n            return\n        } else {\n            api.setHeadersToken(token);\n\n            Promise.all([api.getCards(), api.getUserInformation()])\n                .then(([cardsData, userData]) => {\n                    setCards(cardsData);\n                    setCurrentUser(userData);\n                })\n                .catch((err) => {\n                    console.log(err);\n                });\n        }\n    }, [loggedIn]);\n\n    const handleRegister = (email, password) => {\n        register(email, password)\n            .then((res) => {\n                if (res) {\n                    setLoggedIn(true);\n                    setRegSuccsesStatusInfo(true);\n                    setIsInfoToolTipPopupOpen(true);\n                    history.push(\"/sign-in\");\n                }\n            })\n            .catch((err) => {\n                setRegSuccsesStatusInfo(false);\n                setIsInfoToolTipPopupOpen(true);\n                if (err === \"Error 400\") {\n                    return console.log(\"Не верно заполнено одно из поле\");\n                }\n                if (err === \"Error 409\") {\n                    return console.log(\"Такой пользователь уже существует\");\n                }\n                console.log(err)\n            });\n    };\n\n    const handleLogin = (email, password) => {\n        authorize(email, password)\n            .then((res) => {\n                if (res.token) {\n                    localStorage.setItem(\"jwt\", res.token);\n                    setLoggedIn(true);\n                    setUserEmail(email);\n                    history.push(\"/\");\n                }\n            })\n            .catch((err) => {\n                setRegSuccsesStatusInfo(false);\n                setIsInfoToolTipPopupOpen(true);\n                if (err === \"Error 400\") {\n                    return console.log(\"Не верно заполнено одно из поле\");\n                }\n                if (err === \"Error 401\") {\n                    return console.log(\"Неправильные почта или пароль\");\n                }\n                console.log(err);\n            });\n    };\n\n    const handleLogOut = () => {\n        localStorage.removeItem(\"jwt\");\n        setLoggedIn(false);\n        history.push(\"/sign-in\");\n    };\n\n    const tokenCheck = () => {\n        const jwt = localStorage.getItem(\"jwt\");\n        if (jwt) {\n            getContent(jwt)\n                .then((res) => {\n                    if (res) {\n                        setLoggedIn(true);\n                        setUserEmail(res.email);\n                        history.push(\"/\");\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                });\n        }\n    };\n\n    useEffect(() => {\n        tokenCheck();\n    }, [loggedIn]);\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some((i) => i === currentUser._id);\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                const newCards = cards.map((c) =>\n                    c._id === card._id ? newCard : c\n                );\n                setCards(newCards);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleCardDelete(card) {\n        api.removeCard(card._id)\n            .then(() => {\n                setCards(cards.filter((item) => item._id !== card._id));\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleUpdateUser(userData) {\n        api.editUserInfo(userData)\n            .then((data) => {\n                setCurrentUser(data);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleUpdateAavatar({ avatar }) {\n        api.editUserAvatar(avatar)\n            .then((data) => {\n                setCurrentUser(data);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleAddPlace(placeData) {\n        api.addNewCard(placeData)\n            .then((data) => {\n                setCards([data, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard(false);\n        setIsInfoToolTipPopupOpen(false);\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header userEmail={userEmail} onSignOut={handleLogOut} />\n\n                <Switch>\n                    <Route path=\"/sign-up\">\n                        <Register onRegister={handleRegister} />\n                    </Route>\n\n                    <Route path=\"/sign-in\">\n                        <Login onLogin={handleLogin} />\n                    </Route>\n\n                    <ProtectedRoute\n                        exact\n                        path=\"/\"\n                        loggedIn={loggedIn}\n                        component={Main}\n                        onEditAvatar={handleEditAvatarClick}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onCardClick={handleCardClick}\n                        onCardLike={handleCardLike}\n                        onCardDelete={handleCardDelete}\n                        cards={cards}\n                    />\n\n                    <Route>\n                        {loggedIn ? (\n                            <Redirect to=\"/\" />\n                        ) : (\n                            <Redirect to=\"/sign-in\" />\n                        )}\n                    </Route>\n                </Switch>\n\n                <Footer />\n\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser}\n                />\n\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAavatar}\n                />\n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPlace={handleAddPlace}\n                />\n\n                <PopupWithForm\n                    name=\"popup__remove-card\"\n                    title=\"Вы уверены?\"\n                    submitButtonText=\"Да\"\n                ></PopupWithForm>\n\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n                <InfoToolTip\n                    isOpen={isInfoToolTipPopupOpen}\n                    onClose={closeAllPopups}\n                    isSuccses={regSuccsesStatusInfo}\n                />\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}