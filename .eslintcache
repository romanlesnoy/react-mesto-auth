[{"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/index.js":"1","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/reportWebVitals.js":"2","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/App.js":"3","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Header.js":"4","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Footer.js":"5","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/PopupWithForm.js":"6","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Main.js":"7","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/EditProfilePopup.js":"8","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/ImagePopup.js":"9","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/AddPlacePopup.js":"10","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/EditAvatarPopup.js":"11","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Register.js":"12","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/context/CurrentUserContext.js":"13","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Login.js":"14","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/api.js":"15","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/formValidator.js":"16","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Card.js":"17","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/utils.js":"18","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/ProtectedRoute.js":"19","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/Auth.js":"20","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/InfoToolTip.js":"21","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/auth.js":"22"},{"size":624,"mtime":1615812611966,"results":"23","hashOfConfig":"24"},{"size":362,"mtime":1610113031458,"results":"25","hashOfConfig":"24"},{"size":9823,"mtime":1616061272835,"results":"26","hashOfConfig":"24"},{"size":1104,"mtime":1615826697273,"results":"27","hashOfConfig":"24"},{"size":222,"mtime":1611582670359,"results":"28","hashOfConfig":"24"},{"size":821,"mtime":1611760946229,"results":"29","hashOfConfig":"24"},{"size":2520,"mtime":1616060743822,"results":"30","hashOfConfig":"24"},{"size":2242,"mtime":1616069271749,"results":"31","hashOfConfig":"24"},{"size":773,"mtime":1611753062717,"results":"32","hashOfConfig":"24"},{"size":1958,"mtime":1616072522996,"results":"33","hashOfConfig":"24"},{"size":1319,"mtime":1615038299368,"results":"34","hashOfConfig":"24"},{"size":1883,"mtime":1615813195877,"results":"35","hashOfConfig":"24"},{"size":90,"mtime":1611672411928,"results":"36","hashOfConfig":"24"},{"size":1615,"mtime":1615899285062,"results":"37","hashOfConfig":"24"},{"size":2716,"mtime":1611837910108,"results":"38","hashOfConfig":"24"},{"size":2483,"mtime":1613307683502,"results":"39","hashOfConfig":"24"},{"size":1886,"mtime":1611757097553,"results":"40","hashOfConfig":"24"},{"size":364,"mtime":1613306057823,"results":"41","hashOfConfig":"24"},{"size":432,"mtime":1615471513423,"results":"42","hashOfConfig":"24"},{"size":1244,"mtime":1616061254212,"results":"43","hashOfConfig":"24"},{"size":862,"mtime":1616061262588,"results":"44","hashOfConfig":"24"},{"size":1244,"mtime":1616061254212,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"1ckiehw",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"48"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"85"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/index.js",[],["94","95"],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/reportWebVitals.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/App.js",["96"],"import React, { useEffect, useState } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport api from \"../utils/api\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport { register, authorize, getContent } from \"../utils/auth\";\n\nfunction App() {\n    //стейты состояния\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);// попап редактировния аватара профиля\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);// попап редактирования информации пользователя\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);//попап добавления карточки\n    const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] = useState(false);//попапа с информацией о регистрации пользователя\n    const [selectedCard, setSelectedCard] = useState(false);//попап карточки\n\n    const [loggedIn, setLoggedIn] = useState(false);// авторизация\n    const [regSuccsesStatusInfo, setRegSuccsesStatusInfo] = useState(false);//статус информации о регистрации, которая отобразится в попапе \n    const [userEmail, setUserEmail] = useState(\" \");//имейл пользователя в хедере\n\n    const [currentUser, setCurrentUser] = useState({});//стейт пользователя\n    const [cards, setCards] = useState([]);//массив карточек \n\n    const history = useHistory();\n\n    const handleRegister = (email, password) => { // регистрация пользователя\n        register(email, password)\n            .then((res) => {\n                if (res) {\n                    setLoggedIn(true);\n                    setRegSuccsesStatusInfo(true);\n                    setIsInfoToolTipPopupOpen(true);\n                    history.push(\"/sign-in\");\n                }\n            })\n            .catch((err) => {\n                setRegSuccsesStatusInfo(false);\n                setIsInfoToolTipPopupOpen(true);\n                if (err === 400)\n                    return console.log(\"некорректно заполнено одно из полей\");\n            });\n    };\n\n    const handleLogin = (email, password) => {//вход пользователя\n        authorize(email, password)\n            .then((res) => {\n                console.log(res);\n                if (res.token) {\n                    localStorage.setItem(\"jwt\", res.token);\n                    setLoggedIn(true);\n                    setUserEmail(email);\n                    history.push(\"/\");\n                }\n            })\n            .catch((err) => {\n                setRegSuccsesStatusInfo(false);\n                setIsInfoToolTipPopupOpen(true);\n                if (err === 400) return console.log(\"Не передано одно из поле\");\n                if (err === 401)\n                    return console.log(\"Пользователь с email не найден\");\n            });\n    };\n\n    const handleLogOut = () => { // выход\n        localStorage.removeItem(\"jwt\");\n        setLoggedIn(false);\n        history.push(\"/sign-in\");\n    };\n\n    const tokenCheck = () => {// проверка токена\n        const jwt = localStorage.getItem(\"jwt\");\n        if (jwt) {\n            getContent(jwt)\n                .then((res) => {\n                    if (res) {\n                        setLoggedIn(true);\n                        setUserEmail(res.data.email);\n                        history.push(\"/\");\n                    }\n                })\n                .catch((err) => {\n                    if (err === 400)\n                        return console.log(\"Токен не передан или передан не в том формате\");\n                    if (err === 401)\n                        return console.log(\"Переданный токен некорректен \");\n                    console.log(err);\n                });\n        }\n    };\n\n    useEffect(() => {\n        tokenCheck();\n    }, []);\n\n    useEffect(() => {\n        api.getCards()\n            .then((cardsData) => {\n                setCards(cardsData);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    useEffect(() => {\n        api.getUserInformation()\n            .then((userData) => {\n                setCurrentUser(userData);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some((i) => i._id === currentUser._id);\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                const newCards = cards.map((c) =>\n                    c._id === card._id ? newCard : c\n                );\n                setCards(newCards);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleCardDelete(card) {\n        api.removeCard(card._id)\n            .then(() => {\n                setCards(cards.filter((item) => item._id !== card._id));\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleUpdateUser(userData) {\n        api.editUserInfo(userData)\n            .then((data) => {\n                setCurrentUser(data);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleUpdateAavatar({ avatar }) {\n        api.editUserAvatar(avatar)\n            .then((data) => {\n                setCurrentUser(data);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleAddPlace(placeData) {\n        api.addNewCard(placeData)\n            .then((data) => {\n                setCards([data, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard(false);\n        setIsInfoToolTipPopupOpen(false);\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header userEmail={userEmail} onSignOut={handleLogOut} />\n\n                <Switch>\n                    <Route path=\"/sign-up\">\n                        <Register onRegister={handleRegister} />\n                    </Route>\n\n                    <Route path=\"/sign-in\">\n                        <Login onLogin={handleLogin} />\n                    </Route>\n\n                    <ProtectedRoute\n                        exact\n                        path=\"/\"\n                        loggedIn={loggedIn}\n                        component={Main}\n                        onEditAvatar={handleEditAvatarClick}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onCardClick={handleCardClick}\n                        onCardLike={handleCardLike}\n                        onCardDelete={handleCardDelete}\n                        cards={cards}\n                    />\n\n                    <Route>\n                        {loggedIn ? (\n                            <Redirect to=\"/\" />\n                        ) : (\n                            <Redirect to=\"/sign-in\" />\n                        )}\n                    </Route>\n                </Switch>\n\n                <Footer />\n\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser}\n                />\n\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAavatar}\n                />\n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPlace={handleAddPlace}\n                />\n\n                <PopupWithForm\n                    name=\"popup__remove-card\"\n                    title=\"Вы уверены?\"\n                    submitButtonText=\"Да\"\n                >\n                </PopupWithForm>\n\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n                <InfoToolTip\n                    isOpen={isInfoToolTipPopupOpen}\n                    onClose={closeAllPopups}\n                    isSuccses={regSuccsesStatusInfo}\n                />\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Header.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Footer.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/PopupWithForm.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Main.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/EditProfilePopup.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/ImagePopup.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/AddPlacePopup.js",["97","98"],"import React, { useRef, useState, useEffect, useCallback } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n    const [name, setName] = useState(\"\");\n    const [link, setLink] = useState(\"\");\n\n    useEffect(() => {\n        setName(\"\");\n        setLink(\"\");\n    }, [onClose]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value);\n    }\n\n    function handleAddPlaceSubmit(event) {\n        event.preventDefault();\n        onAddPlace({\n            name, link\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"add-card\"\n            title=\"Новое место\"\n            submitButtonText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleAddPlaceSubmit}\n        >\n            <input\n                id=\"card-name\"\n                className=\"popup__input-field popup__input-card-name\"\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Название\"\n                minLength=\"2\"\n                maxLength=\"30\"\n                required\n                autoComplete=\"off\"\n                value={name || \"\"}\n                onChange={handleNameChange}\n            />\n            <span id=\"card-name-error\" className=\"popup__input-error\"></span>\n            <input\n                id=\"image-link\"\n                className=\"popup__input-field popup__input-image-link\"\n                type=\"url\"\n                name=\"link\"\n                placeholder=\"Ссылка на картинку\"\n                required\n                autoComplete=\"off\"\n                value={link || \"\"}\n                onChange={handleLinkChange}\n            />\n            <span id=\"image-link-error\" className=\"popup__input-error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default AddPlacePopup;\n","/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/EditAvatarPopup.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Register.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/context/CurrentUserContext.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Login.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/api.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/formValidator.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/Card.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/utils.js",[],["99","100"],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/ProtectedRoute.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/Auth.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/components/InfoToolTip.js",[],"/Users/nikacoma/Documents/yandex_praktikum/react-mesto-auth/src/utils/auth.js",[],{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","severity":1,"message":"106","line":103,"column":8,"nodeType":"107","endLine":103,"endColumn":10,"suggestions":"108"},{"ruleId":"109","severity":1,"message":"110","line":1,"column":17,"nodeType":"111","messageId":"112","endLine":1,"endColumn":23},{"ruleId":"109","severity":1,"message":"113","line":1,"column":46,"nodeType":"111","messageId":"112","endLine":1,"endColumn":57},{"ruleId":"101","replacedBy":"114"},{"ruleId":"103","replacedBy":"115"},"no-native-reassign",["116"],"no-negated-in-lhs",["117"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'tokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["118"],"no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'useCallback' is defined but never used.",["116"],["117"],"no-global-assign","no-unsafe-negation",{"desc":"119","fix":"120"},"Update the dependencies array to be: [tokenCheck]",{"range":"121","text":"122"},[4168,4170],"[tokenCheck]"]